<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hand Cricket Neon</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js"></script>
    <script src="https://unpkg.com/ml5@1/dist/ml5.min.js"></script>
</head>
<body>

    <div id="toss-screen">
        <h1 class="neon-text">Hand Cricket</h1>
        <div id="coin-container"><div id="coin"><div class="side" id="heads">H</div><div class="side" id="tails">T</div></div></div>
        <p id="toss-message">Call the toss!</p>
        <div id="toss-buttons">
            <button class="neon-button" onclick="makeToss('Heads')">Heads</button>
            <button class="neon-button" onclick="makeToss('Tails')">Tails</button>
        </div>
        <div id="choice-buttons" style="display: none;">
            <button class="neon-button" onclick="chooseTo('Bat')">Bat</button>
            <button class="neon-button" onclick="chooseTo('Bowl')">Bowl</button>
        </div>
    </div>

    <div id="game-screen" style="display: none;">
        <header>
            <h1 class="neon-text">Hand Cricket</h1>
        </header>

        <div id="game-layout">
            <main>
                </main>

            <aside id="dashboard">
                <h2 class="neon-text">Dashboard</h2>
                <div class="stat">
                    <h3>Your Throw</h3>
                    <p id="your-run">0</p>
                </div>
                <div class="stat">
                    <h3>Computer's Throw</h3>
                    <p id="cpu-run">0</p>
                </div>
                <div class="stat-large">
                    <h3>Total Score</h3>
                    <p id="total-score">0</p>
                </div>
                <div class="stat-full">
                    <h3>Status</h3>
                    <p id="status">Show your hand to start!</p>
                </div>
            </aside>
        </div>
    </div>

    <script src="sketch.js"></script>
    <script>
        // --- Toss Logic (Unchanged) ---
        const tossScreen = document.getElementById('toss-screen');
        const gameScreen = document.getElementById('game-screen');
        const coin = document.getElementById('coin');
        const tossMessage = document.getElementById('toss-message');
        const tossButtons = document.getElementById('toss-buttons');
        const choiceButtons = document.getElementById('choice-buttons');

        function startGame() {
            tossScreen.style.opacity = '0';
            setTimeout(() => {
                tossScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
                gameScreen.classList.add('fade-in');
            }, 500);
        }

        function chooseTo(choice) {
            tossMessage.textContent = `You chose to ${choice}! Game starts now.`;
            choiceButtons.style.display = 'none';
            setTimeout(startGame, 2000);
        }

        function makeToss(userCall) {
            tossButtons.style.display = 'none';
            const result = Math.random() < 0.5 ? 'Heads' : 'Tails';
            coin.style.animation = 'flip 2s ease-out forwards';
            if (result === 'Tails') {
                coin.style.transform = 'rotateY(180deg)';
            }
            setTimeout(() => {
                if (userCall === result) {
                    tossMessage.textContent = 'You won the toss! What do you want to do?';
                    choiceButtons.style.display = 'flex';
                } else {
                    tossMessage.textContent = `You lost the toss. The opponent chose to Bowl.`;
                    setTimeout(startGame, 2500);
                }
            }, 2000);
        }
    </script>
</body>
</html>
